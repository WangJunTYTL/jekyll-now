---
layout: post
title: 千万级数据量来临应该考虑的问题
---

由于这几天公司活动推广的力度超级大，一张有关活动优惠券的数据表突增了2000多万，在前段时间这张表的数据也就几百万。监控发现，这几天的数据量增长，数据库的压力也在增长。为了应对这种业务增长，我们应该早作打算

### 数据量大于1000W行、可以考虑分表

mysql数据库是公司项目中用到的最多的一种数据库，对这种数据库的每张表的适合容量，根据觉得在1000W行后，就可以考虑分表了。


### 数据量累积到一定程度，可以考虑归档

另外随着时间，可以根据自己项目实际的业务量，可以每半年的时间考虑下数据的归档，这里的归档，主要是把数据库中已经过期的数据，已经不需要在展示的数据考虑从当前表中迁出来，减少当前表的数据量


### 大批数据中快速查询

如果想要从一个5000W中的mysql数据库数据表中查出符合某个条件的数据，这时如果通过创建索引，可能也未必能解决问题，这种情况可以考虑使用搜索组件，比如把数据灌入到elasticsearch中

